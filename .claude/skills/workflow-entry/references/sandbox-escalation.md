# Sandbox Escalation

`workflow-entry` における `review` / `diagnose` ワークフローの sandbox 昇格ルール。

## 昇格が必要なワークフロー

- `review`: 差分レビュー完了後、修正適用フェーズへ移行する場合。
- `diagnose`: 原因調査完了後、修正実装フェーズへ移行する場合。

## 昇格条件

`read-only` から `workspace-write` への昇格は、次の 2 条件を**両方満たす場合のみ**許可する。

1. 修正適用が必要であると判定された。
2. ユーザーから明示的な承認が得られた。

いずれか一方でも満たさない場合、昇格してはならず `read-only` を維持する。

## 昇格手順

1. 初期状態: `read-only` で開始する。
2. Stop 点: 修正提案を提示し、承認を要求する。
3. 承認後: `workspace-write` へ昇格し、承認された修正を実施する。

## 禁止事項

- ユーザー承認なしでの昇格を禁止する。
- 自動昇格を禁止する。
